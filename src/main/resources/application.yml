spring:
  application:
    name: basketbot
  datasource:
    url: jdbc:postgresql://localhost:5432/basketbot
    username: basketbot
    password: ${DB_PASSWORD:basketbot}
    driver-class-name: org.postgresql.Driver
  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
    properties:
      hibernate:
        default_schema: public
        format_sql: true
    open-in-view: false

  flyway:
    enabled: true
    locations: classpath:db/migration

# Админ-панель: логин/пароль (пароль лучше задать через ADMIN_PASSWORD)
admin:
  username: ${ADMIN_USERNAME:admin}
  password: ${ADMIN_PASSWORD:admin}

# URL новой админки (Next.js). Редирект с /admin на этот адрес.
app:
  admin-ui-url: ${ADMIN_UI_URL:http://localhost:3000}
  cors:
    # Разрешённые origin для /api/admin (через запятую или список в YAML)
    allowed-origins: ${CORS_ALLOWED_ORIGINS:http://localhost:3000}

# Сессия для API админки. По умолчанию Lax — cookie работает по HTTP (localhost).
# Для продакшена с разными доменами фронта и API: SESSION_COOKIE_SAME_SITE=none, SESSION_COOKIE_SECURE=true (HTTPS).
server:
  servlet:
    session:
      cookie:
        same-site: ${SESSION_COOKIE_SAME_SITE:lax}
        secure: ${SESSION_COOKIE_SECURE:false}

# Токен задаётся через переменную окружения TELEGRAM_BOT_TOKEN или в application-local.yml
telegram:
  bot:
    token: ${TELEGRAM_BOT_TOKEN:}
    username: ${TELEGRAM_BOT_USERNAME:BasketBot}
    # Напоминания о матчах: каждые 15 мин (cron). За 24 ч — опрос, за 3 ч — напоминание, после матча — запрос /result
    reminder-cron: "0 */15 * * * ?"
